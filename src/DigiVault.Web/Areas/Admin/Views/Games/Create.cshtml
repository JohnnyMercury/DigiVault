@model DigiVault.Core.Entities.Game
@{
    ViewData["Title"] = "–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É";
}

<div class="d-flex justify-content-between align-items-center mb-4">
    <div class="d-flex align-items-center gap-3">
        <a asp-action="Index" class="btn btn-outline-light">
            <i class="bi bi-arrow-left"></i>
        </a>
        <h4 class="mb-0">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</h4>
    </div>
</div>

<form asp-action="Create" method="post" enctype="multipart/form-data">
    @Html.AntiForgeryToken()

    <div class="row">
        <div class="col-lg-8">
            <div class="data-card mb-4">
                <h5 class="mb-3">–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>

                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã <span class="text-danger">*</span></label>
                        <input asp-for="Name" class="form-control" placeholder="Fortnite" required>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Slug (URL) <span class="text-danger">*</span></label>
                        <input asp-for="Slug" class="form-control" placeholder="fortnite" required>
                        <small class="text-muted">–õ–∞—Ç–∏–Ω–∏—Ü–µ–π, –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤</small>
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫</label>
                        <input asp-for="Subtitle" class="form-control" placeholder="Bang Bang">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏</label>
                        <input asp-for="SortOrder" type="number" class="form-control">
                    </div>
                </div>
            </div>

            <div class="data-card mb-4">
                <h5 class="mb-3">–í–∞–ª—é—Ç–∞</h5>

                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã</label>
                        <input asp-for="Currency" class="form-control" placeholder="V-Bucks">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">–ö–æ—Ä–æ—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
                        <input asp-for="CurrencyShort" class="form-control" placeholder="V-Bucks">
                    </div>
                </div>
            </div>

            <div class="data-card mb-4">
                <h5 class="mb-3">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h5>

                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">–ò–∫–æ–Ω–∫–∞ (emoji)</label>
                        <input asp-for="Icon" class="form-control" placeholder="üéÆ">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">–¶–≤–µ—Ç</label>
                        <input asp-for="Color" class="form-control" placeholder="#667eea">
                    </div>
                    <div class="col-12">
                        <label class="form-label">–ì—Ä–∞–¥–∏–µ–Ω—Ç</label>
                        <input asp-for="Gradient" class="form-control" placeholder="linear-gradient(135deg, #667eea 0%, #764ba2 100%)">
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="data-card mb-4">
                <h5 class="mb-3">–ö–∞—Ä—Ç–∏–Ω–∫–∞</h5>

                <div class="mb-3">
                    <label class="form-label">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</label>
                    <input type="file" name="imageFile" class="form-control" accept="image/*" id="imageUpload">
                </div>

                <div class="mb-3">
                    <label class="form-label">–ò–ª–∏ URL –∫–∞—Ä—Ç–∏–Ω–∫–∏</label>
                    <input asp-for="ImageUrl" class="form-control" placeholder="/images/games/fortnite.svg">
                </div>

                <div id="imagePreview" class="text-center" style="display: none;">
                    <img src="" alt="Preview" style="max-width: 100%; max-height: 200px; border-radius: 12px;">
                </div>
            </div>

            <div class="data-card mb-4">
                <h5 class="mb-3">–°—Ç–∞—Ç—É—Å</h5>

                <div class="form-check form-switch mb-3">
                    <input asp-for="IsActive" class="form-check-input" type="checkbox" checked>
                    <label asp-for="IsActive" class="form-check-label">–ê–∫—Ç–∏–≤–Ω–∞</label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100">
                <i class="bi bi-check-circle me-1"></i>–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É
            </button>
        </div>
    </div>
</form>

@section Scripts {
<script>
    document.getElementById('imageUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('imagePreview');
                preview.style.display = 'block';
                preview.querySelector('img').src = e.target.result;
            };
            reader.readAsDataURL(file);
        }
    });
</script>
}
